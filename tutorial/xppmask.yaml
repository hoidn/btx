setup:
  queue: 'milano'
  root_dir: '/sdf/data/lcls/ds/xpp/xppXXXXX'
  exp: 'xppXXXXX'
  run: 15
  det_type: 'XXXX'

generate_histograms:
  input_file: 'data.npz'
  output_dir: 'histograms'

calculate_emd:
  histograms_path: 'histograms'
  output_path: 'emd_results'
  roi_coords: [50, 100, 0, 200]
  num_permutations: 1000

calculate_p_values:
  emd_path: 'emd_results'
  null_dist_path: 'emd_results'
  output_path: 'p_values'

generate_masks:
  histograms_path: 'histograms'
  p_values_path: 'p_values'
  output_dir: 'masks'
  roi_coords: [50, 100, 0, 200]
  threshold: 0.5
  bg_mask_mult: 2.0
  bg_mask_thickness: 5

# not tested / working
pump_probe_analysis:
  signal_mask_path: 'masks/signal_mask.npy'
  bg_mask_path: 'masks/bg_mask.npy'
  i0_threshold: 1000
  ipm_pos_filter: [0.1, 0.1]
  time_bin: 0.1
  time_tool: [1, 1000]
  energy_filter: [1.0, 0.1]
  min_count: 200
  output_dir: 'pump_probe'
